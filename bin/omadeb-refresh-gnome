#!/bin/bash

# Overwrite the user config for the Plymouth drive decryption and boot sequence with the Omadeb default and rebuild it

# Backup current dconf (with timestamp) to avoid clobbering (Ex: omadeb.dconf.bak.1753817951)
dconf dump / > "$HOME/gnome.dconf.bak.$(date +%s)"

# Execute installation GNOME Settings
source ~/.local/share/omadeb/install/config/gnome/app-grid.sh
source ~/.local/share/omadeb/install/config/gnome/dock.sh
source ~/.local/share/omadeb/install/config/gnome/extensions.sh
source ~/.local/share/omadeb/install/config/gnome/hotkeys.sh
source ~/.local/share/omadeb/install/config/gnome/settings.sh

echo -e "\e[31mRefreshed GNOME settings from Omadeb defaults. Saved backup as gnome.dconf.bak.*\e[0m"