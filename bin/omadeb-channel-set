#!/bin/bash

# Set the Omadeb channel, which dictates what git branch is used.
#
# Stable uses the main branch, which only sees updates on official releases.
#
# Dev tracks the active development dev branch, which may include partial or broken updates.
# This should only be used by Omadeb developers and people with a lot of experience managing
# Linux systems.

if (($# == 0)); then
  echo "Usage: omadeb-channel-set [stable|dev]"
  exit 1
else
  channel="$1"
fi

case "$channel" in
"stable") omadeb-branch-set "main" ;;
"dev") omadeb-branch-set "dev" ;;
*) echo "Unknown channel: $channel"; exit 1; ;;
esac

omadeb-update -y