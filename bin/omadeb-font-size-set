#!/bin/bash

# Set the system-wide terminal font size.
# If no size is provided as an argument, an interactive prompt will be shown.

if [ "$#" -ne 1 ]; then
  echo -e "\e[32mLet's customize your terminal font size.\n\e[0m"
  FONT_SIZE=$(gum choose {7..14} --height 10 --header "Choose your terminal font size")
else
  FONT_SIZE="$1"
fi

if [[ $FONT_SIZE =~ ^[0-9]+$ ]]; then
  if [[ -f ~/.config/alacritty/alacritty.toml ]]; then
    sed -i "s/^size = .*$/size = $FONT_SIZE/g" ~/.config/alacritty/alacritty.toml
  fi

  if [[ -f ~/.config/kitty/kitty.conf ]]; then
    sed -i "s/^font_size .*/font_size $FONT_SIZE/g" ~/.config/kitty/kitty.conf
    pkill -USR1 kitty
  fi
else
  echo "Font size must be a number."
fi